<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>8 Application messages</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html,2,frames,index=3,info --> 
<meta name="src" content="OSCMsg.tex"> 
<link rel="stylesheet" type="text/css" href="OSCMsg.css"> 
</head><body 
>
<!--l. 1786--><div class="crosslinks"><p class="noindent">[<a 
href="OSCMsgch9.html" >next</a>] [<a 
href="OSCMsgch7.html" >prev</a>] [<a 
href="OSCMsgch7.html#tailOSCMsgch7.html" >prev-tail</a>] [<a 
href="#tailOSCMsgch8.html">tail</a>] [<a 
href="OSCMsg3.html#OSCMsgch8.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;8</span><br /><a 
 id="x12-560008"></a>Application messages</h2>
<!--l. 1788--><p class="noindent" >Application messages are accepted by the static OSC address <span 
class="pcrr8tn-">/ITL</span>.
<h3 class="sectionHead"><span class="titlemark">8.1    </span> <a 
 id="x12-570008.1"></a>Application management</h3>
<a 
 id="dx12-57001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1811--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLMsg</span> <img 
src="OSCMsg64x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx12-57002"></a>
<a 
 id="dx12-57003"></a>
<a 
 id="dx12-57004"></a>
<a 
 id="dx12-57005"></a>
<a 
 id="dx12-57006"></a>
<a 
 id="dx12-57007"></a>
<a 
 id="dx12-57008"></a>
                                                                                 

                                                                                 
<a 
 id="dx12-57009"></a>
<a 
 id="dx12-57010"></a>
<a 
 id="dx12-57011"></a>
<a 
 id="dx12-57012"></a>
<a 
 id="dx12-57013"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">quit</span>: requests the client application to quit.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">rootPath</span>: <span 
class="ptmri8t-">rootPath </span>of an INScore application is the default path where the application reads or writes
     a file when a relative path is used for this file. The default value is the user home directory. Sending
     the <span 
class="pcrr8tn-">rootPath </span>message without parameter resets the application path to its default value.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">preprocess</span>: evaluates the input file script and print the result to the log window.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">mouse</span>: hide or show the mouse pointer.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">defaultShow</span>: changes the default <span 
class="pcrr8tn-">show </span>status for new objects. <br 
class="newline" />The default <span 
class="pcrr8tn-">defaultShow </span>value is 1.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">load</span>:  loads  a  file  previously  saved  using  the  <span 
class="pcrr8tn-">save </span>message  (see  section  <a 
href="OSCMsgch2.html#x6-80002">2<!--tex4ht:ref: common --></a>  p.<a 
href="OSCMsgch2.html#x6-80002">11<!--tex4ht:ref: common --></a>).  Note  that  the
     load  operation  appends  the  new  objects  to  the  existing  scene.  When  necessary,  it  is  the  sender
     responsibility to clear the scene before loading a file. URL are supported for the file path (see section
     <a 
href="OSCMsgch5.html#x9-370005.8">5.8<!--tex4ht:ref: filebasedrsrc --></a> p.<a 
href="OSCMsgch5.html#x9-370005.8">47<!--tex4ht:ref: filebasedrsrc --></a>);
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">read</span>: read a buffer that is expected to contain a valid inscore script.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">require</span>: check that the current INScore version number is equal or greater to the number given
     as argument. The version number is given as a float value. A message is associated to the <span 
class="pcrr8tn-">require</span>
     message, which is triggered when the check fails. See section <a 
href="OSCMsgch16.html#x20-10700016">16<!--tex4ht:ref: interaction --></a> p.<a 
href="OSCMsgch16.html#x20-10700016">159<!--tex4ht:ref: interaction --></a> for more details.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">compatibility</span>:  preserve  INScore  previous  behavior.  The  argument  corresponds  to  a  version
     number, INScore will preserve the corresponding behavior (objects scaling, default size, etc.).
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">rate</span>: changes the time task rate. Note that null values are ignored.<br 
class="newline" />The default <span 
class="pcrr8tn-">rate </span>value is 10.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">time</span>: sets the application current time. The time is expressed in milliseconds.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">ticks</span>: sets the application current ticks count. The ticks count indicates the number of time tasks
     performed by the application.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">hello</span>: query the host IP number. The message is intended for ITL applications discovery. Answer to
     the query has the following format: <br 
class="newline" />&#x00A0;&#x00A0;           <span 
class="pcrr8tn-">IP inPort outPort errPort </span>where <span 
class="pcrr8tn-">IP </span>is sent as a string and port numbers as integer
     values.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">forwardingMsg</span>: application support message forwading and filtering. See section <a 
href="OSCMsgch10.html#x14-7000010">10<!--tex4ht:ref: forwarding --></a> p.<a 
href="OSCMsgch10.html#x14-7000010">92<!--tex4ht:ref: forwarding --></a>.</li></ul>
                                                                                 

                                                                                 
<!--l. 1858--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />when sending the message:
<div class="center" 
>
<!--l. 1860--><p class="noindent" >
<div 
class="colorbox" id="colorbox54"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL hello;</span>
</div></div>
</div>
<!--l. 1861--><p class="noindent" >&#x00A0;       the application will answer with the following message:
<div class="center" 
>
<!--l. 1862--><p class="noindent" >
<div 
class="colorbox" id="colorbox55"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL 192.168.0.5 7000 7001 7003</span>
</div></div>
</div>
<!--l. 1863--><p class="noindent" >&#x00A0;       when it runs on a host which IP number is <span 
class="pcrr8tn-">192.168.0.5 </span>using the default port numbers.
<!--l. 1867--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">8.2    </span> <a 
 id="x12-580008.2"></a>Ports management</h3>
<a 
 id="dx12-58001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1874--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLPortsMsg</span> <img 
src="OSCMsg65x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx12-58002"></a>
<a 
 id="dx12-58003"></a>
<a 
 id="dx12-58004"></a>
<!--l. 1879--><p class="noindent" >Changes the UDP port numbers:
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">port </span>defines the listening port number,
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">outport </span>defines the port used to send replies to queries,
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">errport </span>defines the port used to send error messages.</li></ul>
<!--l. 1885--><p class="noindent" >The <span 
class="pcrr8tn-">int32 </span>parameter should be a positive value in the range <span 
class="pcrr8tn-">[1024-49150]</span>. <br 
class="newline" />The default <span 
class="pcrr8tn-">port</span>, <span 
class="pcrr8tn-">outport </span>and <span 
class="pcrr8tn-">errport </span>values are 7000, 7001 and 7002.
                                                                                 

                                                                                 
<!--l. 1888--><p class="noindent" ><span 
class="ptmbc8t-">N<span 
class="small-caps">O</span><span 
class="small-caps">T</span><span 
class="small-caps">E</span>  </span><br 
class="newline" />Error messages are sent as a single string.
<!--l. 1893--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">8.3    </span> <a 
 id="x12-590008.3"></a>System support</h3>
<a 
 id="dx12-59001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1898--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLSystem</span> <img 
src="OSCMsg66x.png" alt="PICT" >
</div> </dd></dl>
<a 
 id="dx12-59002"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">browse </span>open the file given as parameter using the system default browser. The message supports
     URLs that can be of type <span 
class="pcrr8tn-">http:// </span>, <span 
class="pcrr8tn-">https:// </span>or <span 
class="pcrr8tn-">file:// </span>. It supports also direct reference to a
     local file (e.g. myfile.html) that is translated into <span 
class="pcrr8tn-">file:// </span>url using the application rootPath.</li></ul>
<!--l. 1909--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">8.4    </span> <a 
 id="x12-600008.4"></a>Application level queries</h3>
<!--l. 1912--><p class="noindent" >The application supports the <span 
class="pcrr8tn-">get </span>messages for its parameters (see section <a 
href="OSCMsgch6.html#x10-400006">6<!--tex4ht:ref: getsect --></a> p.<a 
href="OSCMsgch6.html#x10-400006">54<!--tex4ht:ref: getsect --></a>). In addition, it provides the
following messages to query version numbers.
<a 
 id="dx12-60001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1916--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLRequest</span> <img 
src="OSCMsg67x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx12-60002"></a>
<a 
 id="dx12-60003"></a>
<a 
 id="dx12-60004"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">version</span>: version number request.
                                                                                 

                                                                                 
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">guido-version</span>: Guido engine version number request.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">musicxml-version</span>:  MusicXML  and  Guido  converter  version  numbers  request.  Returns  "not
     available" when the library is not found.
     </li></ul>
<!--l. 1928--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Querying INScore version:
<div class="center" 
>
<!--l. 1930--><p class="noindent" >
<div 
class="colorbox" id="colorbox56"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL get version;</span>
</div></div>
</div>
<!--l. 1931--><p class="noindent" >&#x00A0;       will give the following as output:
<div class="center" 
>
<!--l. 1932--><p class="noindent" >
<div 
class="colorbox" id="colorbox57"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL version 1.00</span>
</div></div>
</div>
<!--l. 1936--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">8.5    </span> <a 
 id="x12-610008.5"></a>Application static nodes</h3>
<!--l. 1939--><p class="noindent" >The application level provides the static nodes - <span 
class="pcrr8tn-">stats</span>, <span 
class="pcrr8tn-">debug </span>and <span 
class="pcrr8tn-">log</span>, available at <span 
class="pcrr8tn-">/ITL/stats/ITL/debug </span>and
<span 
class="pcrr8tn-">/ITL/log </span>to help debugging communication and INScore scripts design.
<!--l. 1941--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">8.5.1    </span> <a 
 id="x12-620008.5.1"></a>The &#8217;stats&#8217; nodes</h4>
<a 
 id="dx12-62001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1946--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLStats</span> <img 
src="OSCMsg68x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx12-62002"></a>
<a 
 id="dx12-62003"></a>
                                                                                 

                                                                                 
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">get </span>gives the count of handled messages at OSC and UDP levels: the UDP count indicates the count
     of messages received from the network, the OSC count includes the UDP count and the messages
     received internally.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">reset </span>resets the counters to zero. Note that querying the <span 
class="pcrr8tn-">stats </span>node increments at least the OSC the
     counter.</li></ul>
<!--l. 1955--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Answer to a <span 
class="pcrr8tn-">get </span>message addressed to <span 
class="pcrr8tn-">/ITL/stats</span>
<div class="center" 
>
<!--l. 1957--><p class="noindent" >
<div 
class="colorbox" id="colorbox58"><div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/stats osc 15 udp 10</span>
</div></div>
</div>
<!--l. 1960--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">8.5.2    </span> <a 
 id="x12-630008.5.2"></a>The &#8217;debug&#8217; nodes</h4>
<!--l. 1963--><p class="noindent" >The <span 
class="pcrr8tn-">debug </span>node is used to activate debugging information.
<a 
 id="dx12-63001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1966--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLdebug</span> <img 
src="OSCMsg69x.png" alt="PICT" >
</div> </dd></dl>
<a 
 id="dx12-63002"></a>
     <ul class="itemize1">
     <li class="itemize">switch the debug mode ON or OFF. The parameter is interpreted as a boolean value. When in debug
     mode, INScore sends verbose messages to the OSC error port for every message that can&#8217;t be correctly
     handled. Debugging is ON by default.</li></ul>
<!--l. 1973--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Error messages generated on error port in debug mode:
<div class="center" 
>
<!--l. 1978--><p class="noindent" >
<div 
class="colorbox" id="colorbox59"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">error: incorrect OSC address: /ITL/stat</span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">error: incorrect parameters: /ITL/scene/foo unknown 0.1</span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">error: incorrect parameters: /ITL/scene/foo x "incorrectType"</span></div></div>
</div>
                                                                                 

                                                                                 
<!--l. 1981--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">8.5.3    </span> <a 
 id="x12-640008.5.3"></a>The &#8217;log&#8217; nodes</h4>
<!--l. 1984--><p class="noindent" >The <span 
class="pcrr8tn-">log </span>node controls a console window that display all the messages sent to the OSC error port. Typical content is
given by the example above.
<a 
 id="dx12-64001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 1994--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLLog</span> <img 
src="OSCMsg70x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx12-64002"></a>
<a 
 id="dx12-64003"></a>
<a 
 id="dx12-64004"></a>
<a 
 id="dx12-64005"></a>
<a 
 id="dx12-64006"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">show </span>show or hides the console. The parameter is a boolean value.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">clear </span>clear the console window.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">foreground </span>put the console window to front.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">wrap </span>control line wrapping of the console. The parameter is a boolean value.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">write </span>write the <span 
class="pcrr8tn-">arg </span>list formatted as a string to the log window.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">save </span>save the current log content to a file. The parameter is a file name. When expressed as a relative
     path, the file is saved under the current application root path.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">level </span>set the log level. Expected values are:
         <ul class="itemize2">
                                                                                 

                                                                                 
         <li class="itemize">0 : no log
         </li>
         <li class="itemize">1 : log errors (default value)
         </li>
         <li class="itemize">2 : log errors and output of <span 
class="pcrr8tn-">get </span>messages</li></ul>
     </li></ul>
<!--l. 2018--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">8.5.4    </span> <a 
 id="x12-650008.5.4"></a>The &#8217;plugins&#8217; nodes</h4>
<!--l. 2021--><p class="noindent" >The <span 
class="pcrr8tn-">plugins </span>node controls the search path for plugins. See section <a 
href="OSCMsgch20.html#x25-15200020">20<!--tex4ht:ref: plugins --></a> p.<a 
href="OSCMsgch20.html#x25-15200020">213<!--tex4ht:ref: plugins --></a> for more information on plugins and
search strategies.
<a 
 id="dx12-65001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2026--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">ITLPlugin</span> <img 
src="OSCMsg71x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx12-65002"></a>
<a 
 id="dx12-65003"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">path </span>add <span 
class="pcrr8tn-">folder </span>as a user path. The system will look for plugins in this folder first.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">reset </span>clear the current user path.</li></ul>
                                                                                 

                                                                                 
<!--l. 2038--><div class="crosslinks"><p class="noindent">[<a 
href="OSCMsgch9.html" >next</a>] [<a 
href="OSCMsgch7.html" >prev</a>] [<a 
href="OSCMsgch7.html#tailOSCMsgch7.html" >prev-tail</a>] [<a 
href="OSCMsgch8.html" >front</a>] [<a 
href="OSCMsg3.html#OSCMsgch8.html" >up</a>] </p></div>
<!--l. 2038--><p class="noindent" ><a 
 id="tailOSCMsgch8.html"></a>  
</body></html> 
